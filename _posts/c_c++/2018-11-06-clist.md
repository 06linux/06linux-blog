---
layout: post
title:  "C++ 容器总结 (Vector, list)--推荐阅读"
date:   2018-11-06 16:07:18 +0800
categories: c_c++
tags: 源码 C++ List Vector
---

* content
{:toc}



### vector

　　连续存储结构，每个元素在内存上是连续的；

　　支持高效的随机访问和在尾端插入/删除操作，但其他位置的插入/删除操作效率低下；

　　vector存储自定义类对象自定义类对象须满足：  
　　a、有可供调用的无参构造函数（默认的或自定义的）；  
　　b、有可用的拷贝赋值函数（默认的或自定义的）  


### deque

　　连续存储结构，即其每个元素在内存上也是连续的，类似于vector，不同之处在于，deque提供了两级数组结构，第一级完全类似于vector，代表实际容器；另一级维护容器的首位地址。

　　这样，deque除了具有vector的所有功能外，还支持高效的首端插入/删除操作。



### list

　　非连续存储结构，具有双链表结构，每个元素维护一对前向和后向指针，因此支持前向/后向遍历。

　　支持高效的随机插入/删除操作，但随机访问效率低下，且由于需要额外维护指针，开销也比较大。



### vector list  deque

　　a、若需要随机访问操作，则选择vector；

　　b、若已经知道需要存储元素的数目， 则选择vector；

　　c、若需要随机插入/删除（不仅仅在两端），则选择list

　　d、只有需要在首端进行插入/删除操作的时候，才选择deque，否则都选择vector。

　　e、若既需要随机插入/删除，又需要随机访问，则需要在vector与list间做个折中。

　　f、当要存储的是大型负责类对象时，list要优于vector；当然这时候也可以用vector来存储指向对象的指针，同样会取得较高的效率，但是指针的维护非常容易出错，因此不推荐使用。  



### capacity size

　　a、capacity是容器需要增长之前，能够盛的元素总数；只有连续存储的容器才有capacity的概念（例如vector，deque，string），list不需要capacity。

　　b、size是容器当前存储的元素的数目。

　　c、vector默认的容量初始值，以及增长规则是依赖于编译器的。



### 迭代器iterator

　　a、vector与deque的迭代器支持算术运算，list的迭代器只能进行++/--操作，不支持普通的算术运算。




